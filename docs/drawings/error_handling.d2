# AskAI CLI - Error Handling and Recovery System
title: "Error Handling & Recovery System"

# Error Sources
sources: "Error Sources" {
  style.fill: "#FFEBEE"

  cli_errors: "CLI Errors"
  config_errors: "Config Errors"
  api_errors: "API Errors"
  file_errors: "File I/O Errors"
  validation_errors: "Validation Errors"
}

# Error Handlers
handlers: "Error Handlers" {
  style.fill: "#FFF3E0"

  cli_handler: "CLI Error Handler"
  api_handler: "API Error Handler"
  file_handler: "File Error Handler"
  validation_handler: "Validation Handler"
}

# Recovery Strategies
recovery: "Recovery Strategies" {
  style.fill: "#E8F5E8"

  retry: "Retry Logic"
  fallback: "Fallback Options"
  graceful: "Graceful Degradation"
  user_prompt: "User Interaction"
}

# Logging and Monitoring
monitoring: "Logging & Monitoring" {
  style.fill: "#F3E5F5"

  logger: "Error Logger"
  metrics: "Error Metrics"
  alerts: "User Alerts"
}

# User Feedback
feedback: "User Feedback" {
  style.fill: "#E1F5FE"

  messages: "Error Messages"
  suggestions: "Recovery Suggestions"
  help: "Help Information"
}

# Error flow
sources -> handlers: "Catch Errors"
handlers -> recovery: "Apply Strategy"
handlers -> monitoring: "Log Errors"
recovery -> feedback: "User Guidance"
monitoring -> feedback: "Status Updates"

# Specific error handling flows
sources.cli_errors -> handlers.cli_handler: "Parse Errors"
sources.api_errors -> handlers.api_handler: "Network/API Errors"
sources.file_errors -> handlers.file_handler: "I/O Errors"
sources.validation_errors -> handlers.validation_handler: "Data Errors"

handlers.api_handler -> recovery.retry: "Transient Errors"
handlers.file_handler -> recovery.fallback: "Missing Files"
handlers.validation_handler -> recovery.user_prompt: "Invalid Input"
