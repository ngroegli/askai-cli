# AskAI CLI - Configuration and Initialization Flow
title: "Configuration & Initialization Flow"



startup: "Application Startup" {
  shape: oval
  style.fill: "#90CAF9" # Light Blue (core app/user)
}

dir_check: "Directory Check" {
  shape: diamond
  style.fill: "#BDBDBD" # Light Gray (infra)
}

create_dirs: "Create Directories" {
  shape: rectangle
  style.fill: "#BDBDBD" # Light Gray
}

config_check: "Config File Check" {
  shape: diamond
  style.fill: "#BDBDBD" # Light Gray
}

setup_wizard: "Setup Wizard" {
  shape: rectangle
  style.fill: "#CE93D8" # Light Purple (CLI/user interaction)
}

load_config: "Load Configuration" {
  shape: rectangle
  style.fill: "#BDBDBD" # Light Gray
}

init_components: "Initialize Components" {
  shape: rectangle
  style.fill: "#90CAF9" # Light Blue (core app)
}

ready: "Application Ready" {
  shape: oval
  style.fill: "#90CAF9" # Light Blue (core app/user)
}

# Flow connections
startup -> dir_check: "Check ~/.askai"
dir_check -> create_dirs: "Missing"
dir_check -> config_check: "Exists"
create_dirs -> config_check: "Created"
config_check -> setup_wizard: "Missing Config"
config_check -> load_config: "Config Exists"
setup_wizard -> load_config: "Config Created"
load_config -> init_components: "Valid Config"
init_components -> ready: "All Components Ready"

# Error handling


dir_check -> startup: "Permission Error" {
  style.stroke-dash: 5
  style.stroke: "#EF9A9A" # Light Red (error)
}
config_check -> startup: "Invalid Config" {
  style.stroke-dash: 5
  style.stroke: "#EF9A9A" # Light Red
}
setup_wizard -> startup: "Setup Cancelled" {
  style.stroke-dash: 5
  style.stroke: "#EF9A9A" # Light Red
}
